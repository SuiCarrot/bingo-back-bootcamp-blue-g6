datasource db {
  url      = env("DATABASE_URL")
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

model Match {
  id String @id @default(uuid())

  roomName          String 
  numberOfCards     Int?  @default(2)
  drawTime          Int?  @default(10)
  numberOfRounds    Int?  @default(1)
  drawNumbers       String?
  link              String?
  winner            String?
  players           Player[]
  cards             Cards[]


  createdAt DateTime    @default(now())

  @@map("match")
}

model Player {
  id String @id @default(uuid())

  playerName    String  
  avatar        String  @map("image_url")
  score         Int?    @default(0)
  match         Match?   @relation(fields:[matchId], references: [id])
  matchId       String?  @map("match_id")
  isHost        Boolean? @default(false) @map("is_host")
  cards         Cards[]


  @@map("player")
}

model Cards {
  id String @id @default(uuid())

  numbers                     String
  bingoPossibilities          String
  match                       Match?    @relation(fields:[matchId], references: [id])
  matchId                     String?   @map("match_id")
  player                      Player?   @relation(fields:[playerId], references: [id])
  playerId                    String?   @map("player_id")

  @@map("cards")
}